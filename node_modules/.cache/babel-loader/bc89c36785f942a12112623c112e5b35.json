{"remainingRequest":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue","mtime":1587993644739},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586973850001},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js","mtime":1586973849178},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586973850001},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js","mtime":1586973882658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBib3R0b20gZnJvbSAnQC9jb21wb25lbnRzL0JvdHRvbS52dWUnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlRGF0YTogbnVsbCwKICAgICAgcGljdHVyZTogbnVsbCwKICAgICAgdXBsb2FkVmFsdWU6IDAsCiAgICAgIHBhdGg6IHRoaXMuJHN0b3JlLmdldHRlcnMuYXV0aC5sb2dpbgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHByZXZpZXdJbWFnZTogZnVuY3Rpb24gcHJldmlld0ltYWdlKGV2ZW50KSB7CiAgICAgIHRoaXMudXBsb2FkVmFsdWUgPSAwOwogICAgICB0aGlzLnBpY3R1cmUgPSBudWxsOwogICAgICB0aGlzLmltYWdlRGF0YSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgIH0sCiAgICBvblVwbG9hZDogZnVuY3Rpb24gb25VcGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnBpY3R1cmUgPSBudWxsOwogICAgICB2YXIgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoIiIuY29uY2F0KHRoaXMuJHN0b3JlLmdldHRlcnMuYXV0aC5sb2dpbiwgIi8iKS5jb25jYXQodGhpcy5pbWFnZURhdGEubmFtZSkpLnB1dCh0aGlzLmltYWdlRGF0YSk7CiAgICAgIHN0b3JhZ2VSZWYub24oInN0YXRlX2NoYW5nZWQiLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICBfdGhpcy51cGxvYWRWYWx1ZSA9IHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzICogMTAwOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnVwbG9hZFZhbHVlID0gMTAwOwogICAgICAgIHN0b3JhZ2VSZWYuc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICBfdGhpcy5waWN0dXJlID0gdXJsOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGJvdHRvbTogYm90dG9tCiAgfQp9Ow=="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,WAAA,EAAA,CAHA;AAIA,MAAA,IAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,SAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KALA;AAMA,IAAA,QANA,sBAMA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,UAAA,UAAA,GAAA,QAAA,CAAA,OAAA,GAAA,GAAA,WAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA,cAAA,KAAA,SAAA,CAAA,IAAA,GAAA,GAAA,CAAA,KAAA,SAAA,CAAA;AACA,MAAA,UAAA,CAAA,EAAA,kBAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,gBAAA,GAAA,QAAA,CAAA,UAAA,GAAA,GAAA;AACA,OAFA,EAEA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OAJA,EAKA,YAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA;AACA,QAAA,UAAA,CAAA,QAAA,CAAA,GAAA,CAAA,cAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,GAAA;AACA,SAFA;AAGA,OAVA;AAYA;AArBA,GATA;AAgCA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA;AAhCA,CAAA","sourcesContent":["<template>\r\n<div>\r\n    <div>\r\n        <p>Upload an image to Firebase:</p>\r\n        <input type=\"file\" @change=\"previewImage\" accept=\"image/*\">\r\n    </div>\r\n    <div>\r\n        <p>Progress: {{uploadValue.toFixed()+\"%\"}}\r\n            <progress id=\"progress\" :value=\"uploadValue\" max=\"100\"></progress> </p>\r\n    </div>\r\n    <div v-if=\"imageData!=null\">\r\n        <img class=\"preview\" :src=\"picture\">\r\n        <br>\r\n        <button @click=\"onUpload\">Upload</button>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport bottom from '@/components/Bottom.vue'\r\nimport firebase from 'firebase'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            imageData: null,\r\n            picture: null,\r\n            uploadValue: 0,\r\n            path: this.$store.getters.auth.login\r\n        }\r\n    },\r\n    methods: {\r\n        previewImage(event) {\r\n            this.uploadValue = 0;\r\n            this.picture = null;\r\n            this.imageData = event.target.files[0];\r\n        },\r\n        onUpload() {\r\n            this.picture = null;\r\n            const storageRef = firebase.storage().ref(`${this.$store.getters.auth.login}/${this.imageData.name}`).put(this.imageData);\r\n            storageRef.on(`state_changed`, snapshot => {\r\n                    this.uploadValue = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                }, error => {\r\n                    console.log(error.message)\r\n                },\r\n                () => {\r\n                    this.uploadValue = 100;\r\n                    storageRef.snapshot.ref.getDownloadURL().then((url) => {\r\n                        this.picture = url;\r\n                    });\r\n                }\r\n            );\r\n        }\r\n    },\r\n    components: {\r\n        bottom\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg.preview {\r\n    width: 200px;\r\n}\r\n\r\n</style>"],"sourceRoot":"src/views"}]}