{"remainingRequest":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue","mtime":1588082890359},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586973850001},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1586973881674},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js","mtime":1586973849178},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586973850001},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js","mtime":1586973882658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBib3R0b20gZnJvbSAnQC9jb21wb25lbnRzL0JvdHRvbS52dWUnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlRGF0YTogbnVsbCwKICAgICAgcGljdHVyZTogbnVsbCwKICAgICAgdXBsb2FkVmFsdWU6IDAKICAgIH07CiAgfSwKICBtZXRhSW5mbzogZnVuY3Rpb24gbWV0YUluZm8oKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogItCX0LDQs9GA0YPQt9C40YLRjCDRhNC+0YLQviIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcmV2aWV3SW1hZ2U6IGZ1bmN0aW9uIHByZXZpZXdJbWFnZShldmVudCkgewogICAgICB0aGlzLnVwbG9hZFZhbHVlID0gMDsKICAgICAgdGhpcy5waWN0dXJlID0gbnVsbDsKICAgICAgdGhpcy5pbWFnZURhdGEgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB9LAogICAgb25VcGxvYWQ6IGZ1bmN0aW9uIG9uVXBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5waWN0dXJlID0gbnVsbDsKICAgICAgdmFyIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCIiLmNvbmNhdCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmF1dGgubG9naW4sICIvIikuY29uY2F0KHRoaXMuaW1hZ2VEYXRhLm5hbWUpKS5wdXQodGhpcy5pbWFnZURhdGEpOwogICAgICBzdG9yYWdlUmVmLm9uKCJzdGF0ZV9jaGFuZ2VkIiwgZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgICAgX3RoaXMudXBsb2FkVmFsdWUgPSBzbmFwc2hvdC5ieXRlc1RyYW5zZmVycmVkIC8gc25hcHNob3QudG90YWxCeXRlcyAqIDEwMDsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy51cGxvYWRWYWx1ZSA9IDEwMDsKICAgICAgICBzdG9yYWdlUmVmLnNuYXBzaG90LnJlZi5nZXREb3dubG9hZFVSTCgpLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgX3RoaXMucGljdHVyZSA9IHVybDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBib3R0b206IGJvdHRvbQogIH0KfTs="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;;AAUA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,WAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,QARA,sBAQA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,SAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KALA;AAMA,IAAA,QANA,sBAMA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,UAAA,UAAA,GAAA,QAAA,CAAA,OAAA,GAAA,GAAA,WAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA,cAAA,KAAA,SAAA,CAAA,IAAA,GAAA,GAAA,CAAA,KAAA,SAAA,CAAA;AACA,MAAA,UAAA,CAAA,EAAA,kBAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,gBAAA,GAAA,QAAA,CAAA,UAAA,GAAA,GAAA;AACA,OAFA,EAEA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OAJA,EAKA,YAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA;AACA,QAAA,UAAA,CAAA,QAAA,CAAA,GAAA,CAAA,cAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,GAAA;AACA,SAFA;AAGA,OAVA;AAYA;AArBA,GAbA;AAoCA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA;AApCA,CAAA","sourcesContent":["<template>\r\n<div>\r\n    <div>\r\n        Загрузка // будущая реализация\r\n    </div>\r\n    <bottom />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport bottom from '@/components/Bottom.vue'\r\nimport firebase from 'firebase'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            imageData: null,\r\n            picture: null,\r\n            uploadValue: 0,\r\n        }\r\n    },\r\n    metaInfo() {\r\n        return {\r\n            title: \"Загрузить фото\"\r\n        };\r\n    },\r\n    methods: {\r\n        previewImage(event) {\r\n            this.uploadValue = 0;\r\n            this.picture = null;\r\n            this.imageData = event.target.files[0];\r\n        },\r\n        onUpload() {\r\n            this.picture = null;\r\n            const storageRef = firebase.storage().ref(`${this.$store.getters.auth.login}/${this.imageData.name}`).put(this.imageData);\r\n            storageRef.on(`state_changed`, snapshot => {\r\n                    this.uploadValue = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                }, error => {\r\n                    console.log(error.message)\r\n                },\r\n                () => {\r\n                    this.uploadValue = 100;\r\n                    storageRef.snapshot.ref.getDownloadURL().then((url) => {\r\n                        this.picture = url;\r\n                    });\r\n                }\r\n            );\r\n        }\r\n    },\r\n    components: {\r\n        bottom\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg.preview {\r\n    width: 200px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}