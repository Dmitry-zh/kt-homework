{"remainingRequest":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Interesting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Interesting.vue","mtime":1586456972649},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586456944594},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1586456969042},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js","mtime":1586456943167},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586456944594},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js","mtime":1586456969883}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYm90dG9tIGZyb20gIkAvY29tcG9uZW50cy9Cb3R0b20udnVlIjsNCmltcG9ydCBzZWFyY2hQYW5lbCBmcm9tICJAL2NvbXBvbmVudHMvc2VhcmNoUGFuZWwudnVlIjsNCmltcG9ydCBpbnRlcmVzdHNQYW5lbCBmcm9tICJAL2NvbXBvbmVudHMvaW50ZXJlc3RzUGFuZWwudnVlIjsNCmltcG9ydCBsb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL2xvYWRlci52dWUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNjcm9sbFk6IDAsDQogICAgICBzY3JvbGxOb3c6IDAsDQogICAgICBmZXRjaGluZzogdHJ1ZSwNCiAgICAgIHBhbmVsU2hvd246IHRydWUsDQogICAgICBpbnRlcmVzdHM6IFsNCiAgICAgICAgIklHVFYiLA0KICAgICAgICAi0JzQsNCz0LDQt9C40L0iLA0KICAgICAgICAi0KTQuNC70YzQvNGLIiwNCiAgICAgICAgItCc0YPQt9GL0LrQsCIsDQogICAgICAgICLQktC40LTQtdC+0LjQs9GA0YsiLA0KICAgICAgICAi0JXQtNCwIiwNCiAgICAgICAgItCc0L7QtNCwIiwNCiAgICAgICAgItCf0YDQuNGA0L7QtNCwIiwNCiAgICAgICAgItCd0LDRg9C60LAiDQogICAgICBdLA0KICAgICAgc2VhcmNoVGV4dDogItCi0LXRgdGCIiwNCiAgICAgIGltZ3M6IFtdDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICB0YWdlZEltZ3MoKSB7DQogICAgICBpZiAodGhpcy5pbWdzLm1hcChpdGVtID0+IGl0ZW0udGFnKS5pbmNsdWRlcyh0aGlzLnNlYXJjaFRleHQpKSB7DQogICAgICAgIHJldHVybiB0aGlzLmltZ3MuZmlsdGVyKGl0ZW0gPT4gaXRlbS50YWcgPT09IHRoaXMuc2VhcmNoVGV4dCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdGhpcy5pbWdzOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHBpY2tJbnRlcmVzdChpbnRlcmVzdCkgew0KICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gaW50ZXJlc3Q7DQogICAgfQ0KICB9LA0KICBjcmVhdGVkOiBhc3luYyBmdW5jdGlvbigpIHsNCiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgiLi9zdGF0aWMvaW50ZXJlc3RpbmcuanNvbiIpOw0KICAgIHRoaXMuaW1ncyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsNCiAgICB0aGlzLmltZ3MgPSB0aGlzLmltZ3MucGhvdG9zOw0KICAgIHRoaXMuZmV0Y2hpbmcgPSBmYWxzZTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgKCkgPT4gew0KICAgICAgdGhpcy5zY3JvbGxOb3cgPSB3aW5kb3cuc2Nyb2xsWTsNCiAgICAgIGlmICh0aGlzLnNjcm9sbE5vdyA+IHRoaXMuc2Nyb2xsWSkgew0KICAgICAgICB0aGlzLnBhbmVsU2hvd24gPSBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucGFuZWxTaG93biA9IHRydWU7DQogICAgICB9DQogICAgICB0aGlzLnNjcm9sbFkgPSB0aGlzLnNjcm9sbE5vdzsNCiAgICB9KTsNCiAgfSwNCiAgbWV0YUluZm8oKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRpdGxlOiAi0JjQvdGC0LXRgNC10YHQvdC+0LUiDQogICAgfTsNCiAgfSwNCiAgY29tcG9uZW50czogeyBib3R0b20sIHNlYXJjaFBhbmVsLCBpbnRlcmVzdHNQYW5lbCwgbG9hZGVyIH0NCn07DQo="},{"version":3,"sources":["Interesting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Interesting.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <searchPanel :searchText=\"searchText\" v-show=\"panelShown\" />\r\n    <interestsPanel\r\n      :interests=\"interests\"\r\n      @pickedInterest=\"pickInterest\"\r\n      :class=\"{'withPanel':panelShown}\"\r\n    />\r\n    <loader v-if=\"fetching\" />\r\n    <div v-else class=\"gallery\" :class=\"{'withPanel':panelShown}\">\r\n      <div v-for=\"(img, index) of tagedImgs\" :key=\"index\">\r\n        <img :src=\"img.img\" />\r\n      </div>\r\n    </div>\r\n    <bottom />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bottom from \"@/components/Bottom.vue\";\r\nimport searchPanel from \"@/components/searchPanel.vue\";\r\nimport interestsPanel from \"@/components/interestsPanel.vue\";\r\nimport loader from \"@/components/loader.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      scrollY: 0,\r\n      scrollNow: 0,\r\n      fetching: true,\r\n      panelShown: true,\r\n      interests: [\r\n        \"IGTV\",\r\n        \"Магазин\",\r\n        \"Фильмы\",\r\n        \"Музыка\",\r\n        \"Видеоигры\",\r\n        \"Еда\",\r\n        \"Мода\",\r\n        \"Природа\",\r\n        \"Наука\"\r\n      ],\r\n      searchText: \"Тест\",\r\n      imgs: []\r\n    };\r\n  },\r\n  computed: {\r\n    tagedImgs() {\r\n      if (this.imgs.map(item => item.tag).includes(this.searchText)) {\r\n        return this.imgs.filter(item => item.tag === this.searchText);\r\n      } else {\r\n        return this.imgs;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    pickInterest(interest) {\r\n      this.searchText = interest;\r\n    }\r\n  },\r\n  created: async function() {\r\n    let response = await fetch(\"./static/interesting.json\");\r\n    this.imgs = await response.json();\r\n    this.imgs = this.imgs.photos;\r\n    this.fetching = false;\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"scroll\", () => {\r\n      this.scrollNow = window.scrollY;\r\n      if (this.scrollNow > this.scrollY) {\r\n        this.panelShown = false;\r\n      } else {\r\n        this.panelShown = true;\r\n      }\r\n      this.scrollY = this.scrollNow;\r\n    });\r\n  },\r\n  metaInfo() {\r\n    return {\r\n      title: \"Интересное\"\r\n    };\r\n  },\r\n  components: { bottom, searchPanel, interestsPanel, loader }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.gallery {\r\n  margin-top: 7vh;\r\n  display: grid;\r\n  grid-auto-flow: dense;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  grid-auto-rows: 33vw;\r\n  grid-gap: 1vw 1vw;\r\n}\r\n\r\n.gallery > div > div {\r\n  height: 100%;\r\n}\r\n\r\n.gallery > div:nth-child(8n-2) {\r\n  grid-column: span 2;\r\n  grid-row: span 2;\r\n}\r\n\r\n.gallery img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.gallery.withPanel {\r\n  margin-top: 13vh;\r\n}\r\n</style>"]}]}