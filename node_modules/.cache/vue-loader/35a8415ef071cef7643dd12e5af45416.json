{"remainingRequest":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue","mtime":1588082890359},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js","mtime":1586973849178},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586973850001},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js","mtime":1586973882658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYm90dG9tIGZyb20gJ0AvY29tcG9uZW50cy9Cb3R0b20udnVlJw0KaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGltYWdlRGF0YTogbnVsbCwNCiAgICAgICAgICAgIHBpY3R1cmU6IG51bGwsDQogICAgICAgICAgICB1cGxvYWRWYWx1ZTogMCwNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0YUluZm8oKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB0aXRsZTogItCX0LDQs9GA0YPQt9C40YLRjCDRhNC+0YLQviINCiAgICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgcHJldmlld0ltYWdlKGV2ZW50KSB7DQogICAgICAgICAgICB0aGlzLnVwbG9hZFZhbHVlID0gMDsNCiAgICAgICAgICAgIHRoaXMucGljdHVyZSA9IG51bGw7DQogICAgICAgICAgICB0aGlzLmltYWdlRGF0YSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsNCiAgICAgICAgfSwNCiAgICAgICAgb25VcGxvYWQoKSB7DQogICAgICAgICAgICB0aGlzLnBpY3R1cmUgPSBudWxsOw0KICAgICAgICAgICAgY29uc3Qgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoYCR7dGhpcy4kc3RvcmUuZ2V0dGVycy5hdXRoLmxvZ2lufS8ke3RoaXMuaW1hZ2VEYXRhLm5hbWV9YCkucHV0KHRoaXMuaW1hZ2VEYXRhKTsNCiAgICAgICAgICAgIHN0b3JhZ2VSZWYub24oYHN0YXRlX2NoYW5nZWRgLCBzbmFwc2hvdCA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkVmFsdWUgPSAoc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMpICogMTAwOw0KICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGxvYWRWYWx1ZSA9IDEwMDsNCiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZVJlZi5zbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKCh1cmwpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGljdHVyZSA9IHVybDsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcG9uZW50czogew0KICAgICAgICBib3R0b20NCiAgICB9DQp9DQo="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Upload.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div>\r\n    <div>\r\n        Загрузка // будущая реализация\r\n    </div>\r\n    <bottom />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport bottom from '@/components/Bottom.vue'\r\nimport firebase from 'firebase'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            imageData: null,\r\n            picture: null,\r\n            uploadValue: 0,\r\n        }\r\n    },\r\n    metaInfo() {\r\n        return {\r\n            title: \"Загрузить фото\"\r\n        };\r\n    },\r\n    methods: {\r\n        previewImage(event) {\r\n            this.uploadValue = 0;\r\n            this.picture = null;\r\n            this.imageData = event.target.files[0];\r\n        },\r\n        onUpload() {\r\n            this.picture = null;\r\n            const storageRef = firebase.storage().ref(`${this.$store.getters.auth.login}/${this.imageData.name}`).put(this.imageData);\r\n            storageRef.on(`state_changed`, snapshot => {\r\n                    this.uploadValue = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                }, error => {\r\n                    console.log(error.message)\r\n                },\r\n                () => {\r\n                    this.uploadValue = 100;\r\n                    storageRef.snapshot.ref.getDownloadURL().then((url) => {\r\n                        this.picture = url;\r\n                    });\r\n                }\r\n            );\r\n        }\r\n    },\r\n    components: {\r\n        bottom\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg.preview {\r\n    width: 200px;\r\n}\r\n</style>\r\n"]}]}