{"remainingRequest":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Interesting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Interesting.vue","mtime":1586972355785},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586883801482},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js","mtime":1586883800678},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586883801482},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js","mtime":1586883832454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGJvdHRvbSBmcm9tICJAL2NvbXBvbmVudHMvQm90dG9tLnZ1ZSI7CmltcG9ydCBzZWFyY2hQYW5lbCBmcm9tICJAL2NvbXBvbmVudHMvc2VhcmNoUGFuZWwudnVlIjsKaW1wb3J0IGludGVyZXN0c1BhbmVsIGZyb20gIkAvY29tcG9uZW50cy9pbnRlcmVzdHNQYW5lbC52dWUiOwppbXBvcnQgbG9hZGVyIGZyb20gIkAvY29tcG9uZW50cy9sb2FkZXIudnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzY3JvbGxZOiAwLAogICAgICBzY3JvbGxOb3c6IDAsCiAgICAgIGZldGNoaW5nOiB0cnVlLAogICAgICBwYW5lbFNob3duOiB0cnVlLAogICAgICBjb3VudDogMjUsCiAgICAgIHNlbGVjdGVkSW50OiAiIiwKICAgICAgb2Zmc2V0OiAwLAogICAgICBzZWFyY2hUZXh0OiAi0KLQtdGB0YIiLAogICAgICBwZXNIZWFkZXJzOiB7CiAgICAgICAgJ09jcC1BcGltLVN1YnNjcmlwdGlvbi1LZXknOiAnMjAzN2NjOTk4NWJlNDI5MmEzYWFlN2YxMmNhZmU0MjMnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaW1nczogZnVuY3Rpb24gaW1ncygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuaW1nczsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHBpY2tJbnRlcmVzdDogZnVuY3Rpb24gcGlja0ludGVyZXN0KGludGVyZXN0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmZldGNoaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5zZWxlY3RlZEludCA9IGludGVyZXN0OwogICAgICBheGlvcy5nZXQoImh0dHBzOi8vYXBpLmNvZ25pdGl2ZS5taWNyb3NvZnQuY29tL2JpbmcvdjcuMC9pbWFnZXMvc2VhcmNoP3E9IiArIGVuY29kZVVSSUNvbXBvbmVudChpbnRlcmVzdCkgKyAiJmNvdW50PSIgKyB0aGlzLmNvdW50ICsgIiZvZmZzZXQ9IiArIHRoaXMub2Zmc2V0LCB7CiAgICAgICAgaGVhZGVyczogdGhpcy5wZXNIZWFkZXJzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHBheWxvYWQgPSByZXNwb25zZS5kYXRhLnZhbHVlLm1hcChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICBfdGhpcy5pbWdzLnB1c2gob2JqLmNvbnRlbnRVcmwpOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ25ld0ltZ3MnLCBwYXlsb2FkKTsKCiAgICAgICAgX3RoaXMuZmV0Y2hpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMyLnNjcm9sbE5vdyA9IHdpbmRvdy5zY3JvbGxZOwoKICAgICAgaWYgKF90aGlzMi5zY3JvbGxOb3cgPiBfdGhpczIuc2Nyb2xsWSkgewogICAgICAgIF90aGlzMi5wYW5lbFNob3duID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMyLnBhbmVsU2hvd24gPSB0cnVlOwogICAgICB9CgogICAgICBpZiAod2luZG93LnNjcm9sbFkgPj0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLSA5MDApIHsKICAgICAgICBfdGhpczIub2Zmc2V0ICs9IDI1OwoKICAgICAgICBfdGhpczIucGlja0ludGVyZXN0KF90aGlzMi5zZWxlY3RlZEludCk7CiAgICAgIH0KCiAgICAgIF90aGlzMi5zY3JvbGxZID0gX3RoaXMyLnNjcm9sbE5vdzsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucGlja0ludGVyZXN0KCfQodC40YHRjNC60LgnKTsKICB9LAogIG1ldGFJbmZvOiBmdW5jdGlvbiBtZXRhSW5mbygpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAi0JjQvdGC0LXRgNC10YHQvdC+0LUiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgYm90dG9tOiBib3R0b20sCiAgICBzZWFyY2hQYW5lbDogc2VhcmNoUGFuZWwsCiAgICBpbnRlcmVzdHNQYW5lbDogaW50ZXJlc3RzUGFuZWwsCiAgICBsb2FkZXI6IGxvYWRlcgogIH0KfTs="},{"version":3,"sources":["Interesting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AACA,OAAA,cAAA,MAAA,iCAAA;AACA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CADA;AAEA,MAAA,SAAA,EAAA,CAFA;AAGA,MAAA,QAAA,EAAA,IAHA;AAIA,MAAA,UAAA,EAAA,IAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,WAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA,CAPA;AAQA,MAAA,UAAA,EAAA,MARA;AASA,MAAA,UAAA,EAAA;AACA,qCAAA;AADA;AATA,KAAA;AAaA,GAfA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA;AACA;AAHA,GAhBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,QADA,EACA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,QAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,mEACA,kBAAA,CAAA,QAAA,CADA,GAEA,SAFA,GAEA,KAAA,KAFA,GAGA,UAHA,GAGA,KAAA,MAHA,EAGA;AAAA,QAAA,OAAA,EAAA,KAAA;AAAA,OAHA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA;AACA,SAFA,CAAA;;AAGA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA,OAAA;;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,OAVA;AAWA;AAfA,GArBA;AAsCA,EAAA,OAtCA,qBAsCA;AAAA;;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,OAAA;;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,IAAA;AACA;;AACA,UAAA,MAAA,CAAA,OAAA,IAAA,QAAA,CAAA,IAAA,CAAA,YAAA,GAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,IAAA,EAAA;;AACA,QAAA,MAAA,CAAA,YAAA,CAAA,MAAA,CAAA,WAAA;AACA;;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,SAAA;AACA,KAZA;AAaA,GApDA;AAqDA,EAAA,OArDA,qBAqDA;AACA,SAAA,YAAA,CAAA,QAAA;AACA,GAvDA;AAwDA,EAAA,QAxDA,sBAwDA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GA5DA;AA6DA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA,MAAA;AAAA,IAAA,WAAA,EAAA,WAAA;AAAA,IAAA,cAAA,EAAA,cAAA;AAAA,IAAA,MAAA,EAAA;AAAA;AA7DA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <searchPanel :searchText=\"searchText\" v-show=\"panelShown\" />\r\n    <interestsPanel\r\n      @pickedInterest=\"pickInterest\"\r\n      :class=\"{'withPanel':panelShown}\"\r\n    />\r\n    <loader v-if=\"fetching\" />\r\n    <div v-else class=\"gallery\" :class=\"{'withPanel':panelShown}\">\r\n      <div v-for=\"(img, index) of imgs \":key=\"index\">\r\n        <img :src=\"img\" />\r\n      </div>\r\n    </div>\r\n    <bottom />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bottom from \"@/components/Bottom.vue\";\r\nimport searchPanel from \"@/components/searchPanel.vue\";\r\nimport interestsPanel from \"@/components/interestsPanel.vue\";\r\nimport loader from \"@/components/loader.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      scrollY: 0,\r\n      scrollNow: 0,\r\n      fetching: true,\r\n      panelShown: true,\r\n      count: 25,\r\n      selectedInt: \"\",\r\n      offset: 0,\r\n      searchText: \"Тест\",\r\n      pesHeaders: {\r\n    'Ocp-Apim-Subscription-Key' : '2037cc9985be4292a3aae7f12cafe423',\r\n    },\r\n    };\r\n  },\r\n  computed: {\r\n    imgs() {\r\n      return this.$store.getters.imgs;\r\n    }\r\n  },\r\n  methods: {\r\n    pickInterest(interest) {\r\n      this.fetching = true;\r\n      this.selectedInt = interest;\r\n      axios.get(`https://api.cognitive.microsoft.com/bing/v7.0/images/search?q=`\r\n      +encodeURIComponent(interest)\r\n      +\"&count=\"+this.count\r\n      +\"&offset=\"+this.offset, {headers : this.pesHeaders})\r\n      .then((response) => {\r\n        let payload = response.data.value.map((obj)=> {\r\n          this.imgs.push(obj.contentUrl);\r\n        });\r\n        this.$store.dispatch('newImgs', payload)\r\n        this.fetching = false;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    window.addEventListener(\"scroll\", () => {\r\n      this.scrollNow = window.scrollY;\r\n      if (this.scrollNow > this.scrollY) {\r\n        this.panelShown = false;\r\n      } else {\r\n        this.panelShown = true;\r\n      }\r\n      if (window.scrollY >= document.body.clientHeight-900) {\r\n        this.offset+=25;\r\n        this.pickInterest(this.selectedInt);\r\n      }\r\n      this.scrollY = this.scrollNow;\r\n    });\r\n  },\r\n  mounted() {\r\n    this.pickInterest('Сиськи')\r\n  },\r\n  metaInfo() {\r\n    return {\r\n      title: \"Интересное\"\r\n    };\r\n  },\r\n  components: { bottom, searchPanel, interestsPanel, loader }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.gallery {\r\n  margin-top: 7vh;\r\n  display: grid;\r\n  grid-auto-flow: dense;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  grid-auto-rows: 33vw;\r\n  grid-gap: 1vw 1vw;\r\n}\r\n\r\n.gallery > div > div {\r\n  height: 100%;\r\n}\r\n\r\n.gallery > div:nth-child(8n-2) {\r\n  grid-column: span 2;\r\n  grid-row: span 2;\r\n}\r\n\r\n.gallery img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.gallery.withPanel {\r\n  margin-top: 13vh;\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}