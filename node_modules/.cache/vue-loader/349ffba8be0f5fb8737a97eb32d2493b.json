{"remainingRequest":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue","mtime":1587997217570},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586973850001},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\babel-loader\\lib\\index.js","mtime":1586973849178},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586973850001},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js","mtime":1586973882658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYm90dG9tIGZyb20gJ0AvY29tcG9uZW50cy9Cb3R0b20udnVlJw0KaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGltYWdlRGF0YTogbnVsbCwNCiAgICAgICAgICAgIHBpY3R1cmU6IG51bGwsDQogICAgICAgICAgICB1cGxvYWRWYWx1ZTogMCwNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBwcmV2aWV3SW1hZ2UoZXZlbnQpIHsNCiAgICAgICAgICAgIHRoaXMudXBsb2FkVmFsdWUgPSAwOw0KICAgICAgICAgICAgdGhpcy5waWN0dXJlID0gbnVsbDsNCiAgICAgICAgICAgIHRoaXMuaW1hZ2VEYXRhID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOw0KICAgICAgICB9LA0KICAgICAgICBvblVwbG9hZCgpIHsNCiAgICAgICAgICAgIHRoaXMucGljdHVyZSA9IG51bGw7DQogICAgICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZihgJHt0aGlzLiRzdG9yZS5nZXR0ZXJzLmF1dGgubG9naW59LyR7dGhpcy5pbWFnZURhdGEubmFtZX1gKS5wdXQodGhpcy5pbWFnZURhdGEpOw0KICAgICAgICAgICAgc3RvcmFnZVJlZi5vbihgc3RhdGVfY2hhbmdlZGAsIHNuYXBzaG90ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGxvYWRWYWx1ZSA9IChzbmFwc2hvdC5ieXRlc1RyYW5zZmVycmVkIC8gc25hcHNob3QudG90YWxCeXRlcykgKiAxMDA7DQogICAgICAgICAgICAgICAgfSwgZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZFZhbHVlID0gMTAwOw0KICAgICAgICAgICAgICAgICAgICBzdG9yYWdlUmVmLnNuYXBzaG90LnJlZi5nZXREb3dubG9hZFVSTCgpLnRoZW4oKHVybCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWN0dXJlID0gdXJsOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICApOw0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIGJvdHRvbQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Upload.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div>\r\n    Загрузка//будущая реализация\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport bottom from '@/components/Bottom.vue'\r\nimport firebase from 'firebase'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            imageData: null,\r\n            picture: null,\r\n            uploadValue: 0,\r\n        }\r\n    },\r\n    methods: {\r\n        previewImage(event) {\r\n            this.uploadValue = 0;\r\n            this.picture = null;\r\n            this.imageData = event.target.files[0];\r\n        },\r\n        onUpload() {\r\n            this.picture = null;\r\n            const storageRef = firebase.storage().ref(`${this.$store.getters.auth.login}/${this.imageData.name}`).put(this.imageData);\r\n            storageRef.on(`state_changed`, snapshot => {\r\n                    this.uploadValue = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                }, error => {\r\n                    console.log(error.message)\r\n                },\r\n                () => {\r\n                    this.uploadValue = 100;\r\n                    storageRef.snapshot.ref.getDownloadURL().then((url) => {\r\n                        this.picture = url;\r\n                    });\r\n                }\r\n            );\r\n        }\r\n    },\r\n    components: {\r\n        bottom\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg.preview {\r\n    width: 200px;\r\n}\r\n</style>\r\n"]}]}