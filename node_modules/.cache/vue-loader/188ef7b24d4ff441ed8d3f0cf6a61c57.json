{"remainingRequest":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue?vue&type=style&index=0&id=0ecd383b&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\src\\views\\Upload.vue","mtime":1587993644739},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\css-loader\\dist\\cjs.js","mtime":1586973858641},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1586973882673},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\postcss-loader\\src\\index.js","mtime":1586973875117},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586973850001},{"path":"C:\\Users\\Дмитрий\\Desktop\\kt-homework\\node_modules\\vue-loader\\lib\\index.js","mtime":1586973882658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbWcucHJldmlldyB7DQogICAgd2lkdGg6IDIwMHB4Ow0KfQ0KDQo="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA","file":"Upload.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div>\r\n    <div>\r\n        <p>Upload an image to Firebase:</p>\r\n        <input type=\"file\" @change=\"previewImage\" accept=\"image/*\">\r\n    </div>\r\n    <div>\r\n        <p>Progress: {{uploadValue.toFixed()+\"%\"}}\r\n            <progress id=\"progress\" :value=\"uploadValue\" max=\"100\"></progress> </p>\r\n    </div>\r\n    <div v-if=\"imageData!=null\">\r\n        <img class=\"preview\" :src=\"picture\">\r\n        <br>\r\n        <button @click=\"onUpload\">Upload</button>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport bottom from '@/components/Bottom.vue'\r\nimport firebase from 'firebase'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            imageData: null,\r\n            picture: null,\r\n            uploadValue: 0,\r\n            path: this.$store.getters.auth.login\r\n        }\r\n    },\r\n    methods: {\r\n        previewImage(event) {\r\n            this.uploadValue = 0;\r\n            this.picture = null;\r\n            this.imageData = event.target.files[0];\r\n        },\r\n        onUpload() {\r\n            this.picture = null;\r\n            const storageRef = firebase.storage().ref(`${this.$store.getters.auth.login}/${this.imageData.name}`).put(this.imageData);\r\n            storageRef.on(`state_changed`, snapshot => {\r\n                    this.uploadValue = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                }, error => {\r\n                    console.log(error.message)\r\n                },\r\n                () => {\r\n                    this.uploadValue = 100;\r\n                    storageRef.snapshot.ref.getDownloadURL().then((url) => {\r\n                        this.picture = url;\r\n                    });\r\n                }\r\n            );\r\n        }\r\n    },\r\n    components: {\r\n        bottom\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg.preview {\r\n    width: 200px;\r\n}\r\n\r\n</style>"]}]}